import React from 'react';
import { View, StyleSheet } from 'react-native';
import GuardaCableado from './Guardacableado';
import RuedasPluma from './RuedasPluma';
import CableGrua from './CableGrua';

// Mapeo de posiciones para el almacenamiento del cable por altura e inclinación
const storagePositionsMap = {
  altura33: {
    "75": { bottom: 50, right: 60 },
    "74": { bottom: 55, right: 85 },
    "73": { bottom: 60, right: 95 },
    "72": { bottom: 65, right: 140 },
    "71": { bottom: 70, right: 180 },
    "69": { bottom: 100, right: 200 },
    "69": { bottom: 110, right: 220 },
    "68": { bottom: 120, right: 250 },
    "67": { bottom: 120, right: 250 },
    "66": { bottom: 140, right: 300 },
    "65": { bottom: 140, right: 300 },
    "64": { bottom: 160, right: 350 },
    "63": { bottom: 160, right: 350 },
    "62": { bottom: 180, right: 400 },
    "61": { bottom: 180, right: 400 },
    "60": { bottom: 220, right: 460 },
    "59": { bottom: 220, right: 460 },
    "58": { bottom: 240, right: 520 },
    "57": { bottom: 240, right: 520 },
    "56": { bottom: 270, right: 570 },
    "55": { bottom: 270, right: 570 },
    "54": { bottom: 310, right: 610 },
    "53": { bottom: 310, right: 610 },
    "52": { bottom: 310, right: 610 },
    "51": { bottom: 310, right: 610 },
    "50": { bottom: 380, right: 690 },
    "49": { bottom: 380, right: 690 },
    "48": { bottom: 420, right: 740 },
    "47": { bottom: 440, right: 760 },
    "46": { bottom: 440, right: 760 },
    "45": { bottom: 440, right: 760 },
    "44": { bottom: 500, right: 830 },
    "44": { bottom: 500, right: 830 },
    "42": { bottom: 540, right: 860 },
    "41": { bottom: 540, right: 860 },
    "40": { bottom: 540, right: 860 },
    "39": { bottom: 600, right: 920 },
    "38": { bottom: 600, right: 920 },
    "37": { bottom: 650, right: 950 },
    "36": { bottom: 650, right: 950 },
    "35": { bottom: 650, right: 950 },
    "34": { bottom: 650, right: 950 },
    "33": { bottom: 650, right: 950 },
    "32": { bottom: 770, right: 1030 },
    "31": { bottom: 770, right: 1030 },
    "30": { bottom: 770, right: 1030 },
    "29": { bottom: 770, right: 1030 },
    "28": { bottom: 870, right: 1080 },
    "27": { bottom: 870, right: 1080 },
    "26": { bottom: 870, right: 1080 },
    "25": { bottom: 870, right: 1080 },
    "24": { bottom: 870, right: 1080 },
    "23": { bottom: 870, right: 1080 },
    "22": { bottom: 1040, right: 1150 },
    "21": { bottom: 1040, right: 1150 },
    "20": { bottom: 1040, right: 1150 },
    "19": { bottom: 1040, right: 1150 },
    "18": { bottom: 1150, right: 1200 },
    "17": { bottom: 1150, right: 1200 },
    "16": { bottom: 1210, right: 1210 },
    "15": { bottom: 1210, right: 1210 },
    "14": { bottom: 1210, right: 1210 },
    "13": { bottom: 1210, right: 1210 },
    "12": { bottom: 1320, right: 1250 },
    "11": { bottom: 1320, right: 1250 },
    "10": { bottom: 1380, right: 1270 },
  },
  altura26: {
    "75": { bottom: 260, right: 0 },
    "74": { bottom: 260, right: 0 },
    "73": { bottom: 270, right: 40 },
    "72": { bottom: 170, right: 0 },
    "71": { bottom: 200, right: 120 },
    "70": { bottom: 330, right: 130 },
    "69": { bottom: 330, right: 130 },
    "68": { bottom: 340, right: 160 },
    "67": { bottom: 340, right: 160 },
    "66": { bottom: 340, right: 160 },
    "65": { bottom: 360, right: 230 },
    "64": { bottom: 360, right: 190 },
    "63": { bottom: 370, right: 270 },
    "62": { bottom: 370, right: 270 },
    "61": { bottom: 390, right: 340 },
    "60": { bottom: 420, right: 355 },
    "59": { bottom: 460, right: 415 },
    "58": { bottom: 460, right: 415 },
    "57": { bottom: 460, right: 415 },
    "56": { bottom: 460, right: 415 },
    "55": { bottom: 520, right: 455 },
    "54": { bottom: 520, right: 455 },
    "53": { bottom: 520, right: 455 },
    "52": { bottom: 530, right: 535 },
    "51": { bottom: 530, right: 535 },
    "50": { bottom: 590, right: 550 },
    "49": { bottom: 740, right: 735 },
    "48": { bottom: 740, right: 735 },
    "47": { bottom: 640, right: 625 },
    "46": { bottom: 640, right: 625 },
    "45": { bottom: 640, right: 625 },
    "44": { bottom: 640, right: 625 },
    "43": { bottom: 700, right: 675 },
    "42": { bottom: 700, right: 675 },
    "41": { bottom: 740, right: 735 },
    "40": { bottom: 740, right: 735 },
    "39": { bottom: 930, right: 880 },
    "38": { bottom: 930, right: 880 },
    "37": { bottom: 800, right: 810 },
    "36": { bottom: 930, right: 880 },
    "35": { bottom: 930, right: 880 },
    "34": { bottom: 930, right: 880 },
    "33": { bottom: 900, right: 850 },
    "32": { bottom: 900, right: 850 },
    "31": { bottom: 900, right: 850 },
    "30": { bottom: 930, right: 880 },
    "29": { bottom: 1170, right: 1030 },
    "28": { bottom: 1170, right: 1030 },
    "27": { bottom: 1170, right: 1030 },
    "26": { bottom: 1170, right: 1030 },
    "25": { bottom: 1070, right: 940 },
    "24": { bottom: 1070, right: 940 },
    "23": { bottom: 1070, right: 940 },
    "22": { bottom: 1070, right: 940 },
    "21": { bottom: 1070, right: 940 },
    "20": { bottom: 1170, right: 1030 },
    "19": { bottom: 1170, right: 1030 },
    "18": { bottom: 1170, right: 1030 },
    "17": { bottom: 1170, right: 1030 },
    "16": { bottom: 1170, right: 1030 },
    "15": { bottom: 1400, right: 1020 },
    "14": { bottom: 1400, right: 1020 },
    "13": { bottom: 1400, right: 1020 },
    "12": { bottom: 1400, right: 1020 },
    "11": { bottom: 1400, right: 1020 },
    "10": { bottom: 1400, right: 1020 },
  },
  altura24: {
    "75": { bottom: 560, right: -75 },
    "74": { bottom: 560, right: -70 },
    "72": { bottom: 590, right: -10 },
    "70": { bottom: 590, right: 25 },
    "67": { bottom: 600, right: 100 },
    "64": { bottom: 640, right: 140 },
    "62": { bottom: 660, right: 180 },
    "60": { bottom: 670, right: 210 },
    "56": { bottom: 720, right: 280 },
    "53": { bottom: 740, right: 330 },
    "50": { bottom: 790, right: 380 },
    "46": { bottom: 870, right: 425 },
    "42": { bottom: 890, right: 465 },
    "40": { bottom: 940, right: 505 },
    "35": { bottom: 1000, right: 560 },
    "30": { bottom: 1090, right: 640 },
    "22": { bottom: 1240, right: 685 },
    "20": { bottom: 1270, right: 715 },
    "10": { bottom: 1450, right: 770 },
  },
  altura19: {
    "75": { bottom: 740, right: -150 },
    "73": { bottom: 740, right: -110 },
    "70": { bottom: 780, right: -30 },
    "67": { bottom: 780, right: -5 },
    "65": { bottom: 800, right: 35 },
    "60": { bottom: 860, right: 110 },
    "56": { bottom: 910, right: 135 },
    "54": { bottom: 890, right: 185 },
    "50": { bottom: 930, right: 245 },
    "46": { bottom: 970, right: 285 },
    "40": { bottom: 1080, right: 350 },
    "36": { bottom: 1100, right: 390 },
    "32": { bottom: 1160, right: 430 },
    "30": { bottom: 1190, right: 475 },
    "20": { bottom: 1330, right: 500 },
    "10": { bottom: 1490, right: 575 },
  },
  altura15: {
    "75": { bottom: 980, right: -200 },
    "72": { bottom: 980, right: -150 },
    "70": { bottom: 990, right: -85 },
    "63": { bottom: 1030, right: -40 },
    "60": { bottom: 1030, right: 0 },
    "57": { bottom: 1060, right: 30 },
    "50": { bottom: 1100, right: 105 },
    "45": { bottom: 1150, right: 140 },
    "40": { bottom: 1200, right: 190 },
    "30": { bottom: 1300, right: 245 },
    "25": { bottom: 1350, right: 285 },
    "20": { bottom: 1400, right: 340 },
    "10": { bottom: 1540, right: 390 },
  },
  altura10: {
    "75": { bottom: 1180, right: -245 },
    "70": { bottom: 1190, right: -180 },
    "64": { bottom: 1190, right: -150 },
    "60": { bottom: 1230, right: -85 },
    "50": { bottom: 1280, right: -30 },
    "40": { bottom: 1340, right: -5 },
    "30": { bottom: 1410, right: 35 },
    "20": { bottom: 1490, right: 85 },
    "10": { bottom: 1570, right: 130 },
  },
};

const CableStorage = ({ alturaType = 'altura10', inclinacion = 75 }) => {
  const angleKey = String(inclinacion);
  const storagePosition =
    (storagePositionsMap[alturaType] && storagePositionsMap[alturaType][angleKey]) ||
    storagePositionsMap.altura10["75"]; // Usa la posición por defecto si no se encuentra

  const containerStyle = {
    top: storagePosition?.bottom,
    right: storagePosition?.right,
  };

  return (
    <View style={[styles.container, containerStyle]}>
      <GuardaCableado />
      <RuedasPluma />
      <CableGrua />
    </View>
  );
};

const styles = StyleSheet.create({
  container: {
    position: 'absolute',
  },
});

export default CableStorage;